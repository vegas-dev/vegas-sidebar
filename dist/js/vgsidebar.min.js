"use strict";class VGSidebar{constructor(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.sidebar=null,this.init(a,b)}init(a,b){a&&(this.sidebar=document.getElementById(a),this.settings=Object.assign({content_over:!0,hash:!1,ajax:{target:"",route:"",method:"get",variables:{}}},b))}open(){if(!this.sidebar)return!1;var a=this;if(a.sidebar.classList.add("open"),a.settings.hash&&window.history.pushState({},"sidebar open","#sidebar-open"),a.settings.content_over&&(document.body.style.paddingRight=window.innerWidth-document.documentElement.clientWidth,document.body.style.overflow="hidden"),a.settings.ajax.route&&a.settings.ajax.target){var c=document.getElementById(a.settings.ajax.target);if(c){var d=new XMLHttpRequest;d.open(a.settings.ajax.method,a.settings.ajax.route,!0),d.onload=function(){var a=JSON.parse(d.responseText);e(a)},d.send(null)}var e=a=>{c.innerHTML=a}}document.onclick=function(b){if(b.target===a.sidebar)return a.close(),!1},document.onkeyup=function(b){return"Escape"===b.key&&a.close(),!1};var b=a.sidebar.querySelectorAll("[data-dismiss=\"vg-sidebar\"]");for(var f of b)f.onclick=function(){return a.close(),!1}}close(){return!!this.sidebar&&void(this.sidebar.classList.remove("open"),_this.settings.hash&&window.history.back(),this.settings.content_over&&(document.body.style.paddingRight="",document.body.style.overflow=""))}}
