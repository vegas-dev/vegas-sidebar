"use strict";class VGSidebar{constructor(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.sidebar=null,this.init(a,b)}init(a,b){a&&(this.sidebar=document.getElementById(a),this.settings=Object.assign({content_over:!0,hash:!1,ajax:{target:"",route:""}},b))}open(){if(!this.sidebar)return!1;var a=this;if(a.sidebar.classList.add("open"),a.settings.hash){var c=this.sidebar.id;c&&window.history.pushState(null,"sidebar open","#sidebar-open-"+c),window.addEventListener("popstate",function(){a.close()},!1)}if(a.settings.content_over&&(document.body.style.paddingRight=window.innerWidth-document.documentElement.clientWidth,document.body.style.overflow="hidden"),a.settings.ajax.route&&a.settings.ajax.target){var d=document.getElementById(a.settings.ajax.target);if(d){var e=new XMLHttpRequest;e.open("get",a.settings.ajax.route,!0),e.onload=function(){var a=JSON.parse(e.responseText);f(a)},e.send()}var f=a=>{d.innerHTML=a}}document.onclick=function(b){if(b.target===a.sidebar)return a.close(),!1},document.onkeyup=function(b){return"Escape"===b.key&&a.close(),!1};var b=a.sidebar.querySelectorAll("[data-dismiss=\"vg-sidebar\"]");for(var g of b)g.onclick=function(){return a.close(),!1}}close(){return!!this.sidebar&&void(this.sidebar.classList.remove("open"),location.hash&&history.pushState("",document.title,window.location.pathname+window.location.search),this.settings.content_over&&(document.body.style.paddingRight="",document.body.style.overflow=""))}}if(window.location.hash){var target=window.location.hash.replace("#sidebar-open-","");if(document.getElementById(target)){var sidebar=new VGSidebar(target);sidebar.settings.hash&&sidebar.open()}}var $vg_sidebar_toggle=document.querySelectorAll("[data-toggle=\"vg-sidebar\"]");for(var $btn of $vg_sidebar_toggle)$btn.onclick=function(a){var b=a.target,c=b.dataset.target||b.href;if(c){var d={content_over:b.dataset.over||!0,hash:b.dataset.hash||!1,ajax:{target:b.dataset.ajaxTarget||"",route:b.dataset.ajaxRoute||""}},e=new VGSidebar(c,d);e.open()}return!1};
